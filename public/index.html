<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <div id="root"></div>
  <div id="content"></div>

  <script type="module">
    import { createElement, component, render } from './component.js';
    const stateData = [
        { hash: '#김우진', text: '김우진' },
        { hash: '#김현',  text: '김현'  },
        { hash: '#방승희',  text: '방승희'  },
        { hash: '#변호녕',  text: '변호녕'  },
        { hash: '#소사무엘',  text: '소사무엘'  },
        { hash: '#송영준',  text: '송영준'  },
        { hash: '#신동현',  text: '신동현'  },
        { hash: '#오승민',  text: '오승민'  },
        { hash: '#유승민',  text: '유승민'  },
        { hash: '#윤준현',  text: '윤준현'  },
        { hash: '#이민구',  text: '이민구'  },
        { hash: '#이유안',  text: '이유안'  },
        { hash: '#이채이',  text: '이채이'  },
        { hash: '#정영식',  text: '정영식'  },
        { hash: '#최성민',  text: '최성민'  },
        { hash: '#최은철',  text: '최은철'  },
        { hash: '#홍문기',  text: '홍문기'  },
    ];
    // 각 이름에 대한 해시를 클릭했을 때의 이벤트 핸들러
    const handleNameClick = (hash) => {
      // 화면의 content 영역에 해당 해시의 내용을 표시
      const contentDiv = document.getElementById('content');
      contentDiv.innerHTML = '';

      // 이름 데이터에서 현재 해시에 해당하는 객체 찾기
      const selectedName = stateData.find(({ hash: nameHash }) => nameHash === hash);

      // 선택된 이름에 대한 내용을 표시
      if (selectedName) {
        contentDiv.appendChild(render(createElement('div', {}, `${selectedName.text}의 내용`)));
      }
    };

    // 이름 목록을 생성하는 함수
    const createNameList = () => {
      const nameList = stateData.map(({ hash, text }) => {
        const nameLink = createElement('a', {
          href: hash,
          class: 'name-link',
          onclick: () => handleNameClick(hash),
        }, text);

        return createElement('div', { class: 'name-item' }, nameLink);
      });

      return createElement('div', { id: 'name-list' }, ...nameList);
    };

    // 초기 렌더링
    const rootDiv = document.getElementById('root');
    rootDiv.appendChild(render(createNameList()));

    // 해시 변경 이벤트 처리
    window.addEventListener('hashchange', () => {
      // 해시가 변경되면 해당 이름의 내용을 표시
      const hash = window.location.hash;
      handleNameClick(hash);
    });

    // 페이지 로딩 시 초기 해시에 대한 처리
    window.dispatchEvent(new Event('hashchange'));
  </script>
</body>
</html>